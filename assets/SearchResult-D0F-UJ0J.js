import{u as _,f as te,g as le,h as U,i as ae,P as oe,t as se,j as re,k as S,l as w,m as ne,n as Y,p as l,q as ie,R as O,s as ue,v as me,x as he,C as ce,y as ge,z as pe,A as de,B as ye,D as Ee,E as ve,F as Ae,G as T,H as $,I as be,J as H,K as fe}from"./app-BSIteuMx.js";const Be=["/","/about.html","/blog-feed.html","/link.html","/hands-on-code/from-self-attention-to-multi-head-self-attention.html","/hands-on-code/hands-on-causallm-decoder.html","/hands-on-code/hands-on-group-query-attention-and-multi-query-attention.html","/hands-on-code/hands-on-lora.html","/introduction-to-computing-advertising/","/introduction-to-computing-advertising/ad-nums.html","/introduction-to-computing-advertising/quick-tutorial.html","/llms-zero-to-hero/activate-function-from-relu-gelu-to-swishglu.html","/llms-zero-to-hero/the-way-of-moe-model-evolution.html","/blog/2020-year-summary.html","/blog/2024-year-summary.html","/blog/2021-year-summary.html","/blog/2022-year-summary.html","/blog/2023-year-summary.html","/blog/growth-strategies-for-ordinary-people-starting-from-scratch.html","/blog/2025-02-month-summary.html","/blog/2025-03-month-summary.html","/blog/2025-04-month-summary.html","/blog/2025-05-month-summary.html","/blog/2025-06-month-summary.html","/blog/2025-07-month-summary.html","/blog/2025-08-month-summary.html","/blog/2025-09-month-summary.html","/blog/2025-10-month-summary.html","/blog/2025-11-month-summary.html","/blog/11.html","/blog/12.html","/blog/13.html","/blog/14.html","/blog/16.html","/blog/18.html","/blog/19.html","/blog/20.html","/blog/21.html","/blog/22.html","/blog/23.html","/blog/24.html","/blog/bai-fei-li-shang-jin-ji.html","/blog/hub-of-fu-lan-ke-yang.html","/blog/27.html","/blog/blind-date-from-bruce.html","/blog/blind-date-from-miss-cui.html","/blog/joke-with-miss-cui.html","/blog/how-i-met-bruce.html","/blog/life-influenced-by-point.html","/blog/2020-emnlp-submition.html","/blog/ten-years-after-the-college-entrance-examination.html","/blog/how-to-keep-mental-health-working-in-bytedance.html","/blog/talk-with-dayu.html","/blog/work-i-can-insist-more-time.html","/post/from-native-rag-to-agentic-rag.html","/post/hands-on-deepseek-mla.html","/post/hands-on-deepseek-mla-projection-absorption.html","/post/hands-on-dpo-direct-preference-optimization.html","/post/hands-on-rope-position-embedding.html","/post/three-ways-of-deploy-deepseek-r1-and-llm.html","/post/llm-train-infer-memoery-usage-calculation.html","/post/python-type-challenge-advanced.html","/post/python-type-challenge-basic.html","/post/python-type-challenge-intermediate.html","/post/make-flomo-better.html","/post/slow-fast-thinking-from-qwen3-thinking-mixed-to-adacot-to-adathinking.html","/post/deepseek-grm-paper-reading-notes.html","/post/deepseek-r1-paper-reading-notes.html","/post/gemini-2.5-tech-report-reading-note.html","/post/kimi-k1.5-paper-reading-notes.html","/post/kimi-k2-and-kimi-k2-thinking-notes.html","/post/raycast-tutorial-1.html","/post/1.html","/post/10.html","/post/17.html","/post/2.html","/post/29.html","/post/3.html","/post/5.html","/post/7.html","/post/8.html","/post/9.html","/post/git-config-path-seperation.html","/404.html","/hands-on-code/","/llms-zero-to-hero/","/blog/","/post/","/category/","/category/hands-on-code/","/category/llms-zero-to-hero/","/category/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/","/category/%E6%9D%82%E8%B0%88/","/category/%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93/","/category/python-type-challenge/","/category/%E7%AC%94%E8%AE%B0%E6%8A%98%E8%85%BE%E8%AE%B0/","/category/paper-reading/","/category/raycast-turorial/","/category/%E5%88%86%E8%AF%8D/","/category/%E9%9D%A2%E8%AF%95%E9%94%A6%E5%9B%8A/","/category/%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/","/category/%E7%AE%97%E6%B3%95%E5%A6%99%E7%94%A8/","/category/%E6%90%9C%E7%B4%A2%E6%8A%80%E6%9C%AF/","/category/%E5%AE%9E%E4%BD%93%E8%AF%86%E5%88%AB/","/category/%E6%83%85%E6%84%9F-%E5%8E%9F%E5%9B%A0%E5%AF%B9%E6%8A%BD%E5%8F%96(ecpe)/","/tag/","/tag/transformer/","/tag/llm/","/tag/%E6%9D%82%E8%B0%88/","/tag/chaofa/","/tag/%E8%87%AA%E5%AA%92%E4%BD%93/","/tag/%E5%85%AC%E5%BC%80%E8%A1%A8%E8%BE%BE/","/tag/month-summary/","/tag/%E5%B7%A5%E4%BD%9C/","/tag/%E6%88%91%E7%9A%84%E6%9C%8B%E5%8F%8B/","/tag/agent/","/tag/rlhf/","/tag/dpo/","/tag/rope/","/tag/python-typing-tutorial/","/tag/python-type-tutorial/","/tag/paper/","/tag/%E5%88%86%E8%AF%8D/","/tag/%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0/","/tag/%E9%9D%A2%E8%AF%95%E9%94%A6%E5%9B%8A/","/tag/ner/","/tag/%E7%AE%97%E6%B3%95%E5%A6%99%E7%94%A8/","/tag/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95/","/tag/%E6%90%9C%E7%B4%A2%E6%8A%80%E6%9C%AF/","/tag/%E5%BA%8F%E5%88%97%E6%A0%87%E6%B3%A8/","/tag/%E5%85%A5%E9%97%A8%E7%AE%97%E6%B3%95/","/tag/%E5%AE%9E%E4%BD%93%E8%AF%86%E5%88%AB/","/tag/ecpe/","/tag/%E6%95%B0%E5%AD%A6%E9%A2%98/","/tag/git/","/article/","/star/","/timeline/"],ke="SEARCH_PRO_QUERY_HISTORY",E=_(ke,[]),we=()=>{const{queryHistoryCount:a}=H,o=a>0;return{enabled:o,queryHistory:E,addQueryHistory:s=>{o&&(E.value=Array.from(new Set([s,...E.value.slice(0,a-1)])))},removeQueryHistory:s=>{E.value=[...E.value.slice(0,s),...E.value.slice(s+1)]}}},L=a=>Be[a.id]+("anchor"in a?`#${a.anchor}`:""),He="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:I}=H,v=_(He,[]),Ce=()=>{const a=I>0;return{enabled:a,resultHistory:v,addResultHistory:o=>{if(a){const s={link:L(o),display:o.display};"header"in o&&(s.header=o.header),v.value=[s,...v.value.slice(0,I-1)]}},removeResultHistory:o=>{v.value=[...v.value.slice(0,o),...v.value.slice(o+1)]}}},De=a=>{const o=ce(),s=U(),C=ge(),n=S(0),f=w(()=>n.value>0),p=pe([]);return de(()=>{const{search:d,terminate:D}=ye(),A=be(m=>{const b=m.join(" "),{searchFilter:F=g=>g,splitWord:R,suggestionsFilter:j,...y}=o.value;b?(n.value+=1,d(m.join(" "),s.value,y).then(g=>F(g,b,s.value,C.value)).then(g=>{n.value-=1,p.value=g}).catch(g=>{console.warn(g),n.value-=1,n.value||(p.value=[])})):p.value=[]},H.searchDelay-H.suggestDelay);Y([a,s],([m])=>A(m),{immediate:!0}),Ee(()=>{D()})}),{isSearching:f,results:p}};var Re=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:o}){const s=le(),C=U(),n=ae(oe),{enabled:f,addQueryHistory:p,queryHistory:d,removeQueryHistory:D}=we(),{enabled:A,resultHistory:m,addResultHistory:b,removeResultHistory:F}=Ce(),R=f||A,j=se(a,"queries"),{results:y,isSearching:g}=De(j),r=re({isQuery:!0,index:0}),h=S(0),c=S(0),P=w(()=>R&&(d.value.length>0||m.value.length>0)),q=w(()=>y.value.length>0),x=w(()=>y.value[h.value]||null),M=()=>{const{isQuery:e,index:t}=r;t===0?(r.isQuery=!e,r.index=e?m.value.length-1:d.value.length-1):r.index=t-1},G=()=>{const{isQuery:e,index:t}=r;t===(e?d.value.length-1:m.value.length-1)?(r.isQuery=!e,r.index=0):r.index=t+1},J=()=>{h.value=h.value>0?h.value-1:y.value.length-1,c.value=x.value.contents.length-1},K=()=>{h.value=h.value<y.value.length-1?h.value+1:0,c.value=0},V=()=>{c.value<x.value.contents.length-1?c.value+=1:K()},N=()=>{c.value>0?c.value-=1:J()},Q=e=>e.map(t=>fe(t)?t:l(t[0],t[1])),W=e=>{if(e.type==="customField"){const t=ve[e.index]||"$content",[i,k=""]=Ae(t)?t[C.value].split("$content"):t.split("$content");return e.display.map(u=>l("div",Q([i,...u,k])))}return e.display.map(t=>l("div",Q(t)))},B=()=>{h.value=0,c.value=0,o("updateQuery",""),o("close")},X=()=>f?l("ul",{class:"search-pro-result-list"},l("li",{class:"search-pro-result-list-item"},[l("div",{class:"search-pro-result-title"},n.value.queryHistory),d.value.map((e,t)=>l("div",{class:["search-pro-result-item",{active:r.isQuery&&r.index===t}],onClick:()=>{o("updateQuery",e)}},[l(T,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},e),l("button",{class:"search-pro-remove-icon",innerHTML:$,onClick:i=>{i.preventDefault(),i.stopPropagation(),D(t)}})]))])):null,Z=()=>A?l("ul",{class:"search-pro-result-list"},l("li",{class:"search-pro-result-list-item"},[l("div",{class:"search-pro-result-title"},n.value.resultHistory),m.value.map((e,t)=>l(O,{to:e.link,class:["search-pro-result-item",{active:!r.isQuery&&r.index===t}],onClick:()=>{B()}},()=>[l(T,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},[e.header?l("div",{class:"content-header"},e.header):null,l("div",e.display.map(i=>Q(i)).flat())]),l("button",{class:"search-pro-remove-icon",innerHTML:$,onClick:i=>{i.preventDefault(),i.stopPropagation(),F(t)}})]))])):null;return ne("keydown",e=>{if(a.isFocusing){if(q.value){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")V();else if(e.key==="Enter"){const t=x.value.contents[c.value];p(a.queries.join(" ")),b(t),s.push(L(t)),B()}}else if(A){if(e.key==="ArrowUp")M();else if(e.key==="ArrowDown")G();else if(e.key==="Enter"){const{index:t}=r;r.isQuery?(o("updateQuery",d.value[t]),e.preventDefault()):(s.push(m.value[t].link),B())}}}}),Y([h,c],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>l("div",{class:["search-pro-result-wrapper",{empty:a.queries.length?!q.value:!P.value}],id:"search-pro-results"},a.queries.length?g.value?l(ie,{hint:n.value.searching}):q.value?l("ul",{class:"search-pro-result-list"},y.value.map(({title:e,contents:t},i)=>{const k=h.value===i;return l("li",{class:["search-pro-result-list-item",{active:k}]},[l("div",{class:"search-pro-result-title"},e||n.value.defaultTitle),t.map((u,ee)=>{const z=k&&c.value===ee;return l(O,{to:L(u),class:["search-pro-result-item",{active:z,"aria-selected":z}],onClick:()=>{p(a.queries.join(" ")),b(u),B()}},()=>[u.type==="text"?null:l(u.type==="title"?ue:u.type==="heading"?me:he,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},[u.type==="text"&&u.header?l("div",{class:"content-header"},u.header):null,l("div",W(u))])])})])})):n.value.emptyResult:R?P.value?[X(),Z()]:n.value.emptyHistory:n.value.emptyResult)}});export{Re as default};
